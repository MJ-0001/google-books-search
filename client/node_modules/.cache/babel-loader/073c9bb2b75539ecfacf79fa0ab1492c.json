{"ast":null,"code":"// import axios from \"axios\";\n// export default {\n//   // Gets all books\n//   getBooks: function(query) {\n//     return axios.get(`https://www.googleapis.com/books/v1/volumes?q=intitle:${query}&key=AIzaSyDIgzatOnslxJ_o79ySgfXYrKrbOGahZK0`);\n//   },\n//   // Gets the book with the given id\n//   getBook: function(id) {\n//     return axios.get(\"/api/book/\" + id);\n//   },\n//   // Deletes the book with the given id\n//   deleteBook: function(id) {\n//     return axios.delete(\"/api/book/\" + id);\n//   },\n//   // Saves a book to the database\n//   saveBook: function(bookData) {\n//     axios.post(\"/api/book\", bookData);\n//   }\n// };\nexport default {\n  getBooks: function (query) {\n    try {\n      const response = fetch(`https://www.googleapis.com/books/v1/volumes?q=intitle:${query}&key=AIzaSyDIgzatOnslxJ_o79ySgfXYrKrbOGahZK0`);\n\n      if (response.ok) {\n        const jsonResponse = response.json();\n        return jsonResponse;\n      }\n\n      throw new Error(\"Request failed\");\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  saveBook: ({\n    bookData\n  }) => {\n    try {\n      const response = fetch('http://localhost:3000/api/book', {\n        method: \"POST\",\n        body: JSON.stringify({\n          bookData\n        })\n      });\n\n      if (response.ok) {\n        const jsonResponse = response.json();\n        return jsonResponse;\n      }\n\n      throw new Error(\"Request failed\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};","map":{"version":3,"sources":["/Users/Matthew/OneDrive/Assignments/Week-21/google-books-search/client/src/utils/API.js"],"names":["getBooks","query","response","fetch","ok","jsonResponse","json","Error","error","console","log","saveBook","bookData","method","body","JSON","stringify"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,eAAe;AAEbA,EAAAA,QAAQ,EAAE,UAAUC,KAAV,EAAiB;AACzB,QAAI;AACF,YAAMC,QAAQ,GAAGC,KAAK,CAAE,yDAAwDF,KAAM,8CAAhE,CAAtB;;AACA,UAAIC,QAAQ,CAACE,EAAb,EAAiB;AACf,cAAMC,YAAY,GAAGH,QAAQ,CAACI,IAAT,EAArB;AACA,eAAOD,YAAP;AACD;;AACD,YAAM,IAAIE,KAAJ,CAAU,gBAAV,CAAN;AACD,KAPD,CAOE,OAAMC,KAAN,EAAa;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAbY;AAebG,EAAAA,QAAQ,EAAE,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAkB;AAC1B,QAAI;AACF,YAAMV,QAAQ,GAAGC,KAAK,CAAC,gCAAD,EAAmC;AACvDU,QAAAA,MAAM,EAAE,MAD+C;AAEvDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACJ,UAAAA;AAAD,SAAf;AAFiD,OAAnC,CAAtB;;AAIA,UAAIV,QAAQ,CAACE,EAAb,EAAiB;AACf,cAAMC,YAAY,GAAGH,QAAQ,CAACI,IAAT,EAArB;AACA,eAAOD,YAAP;AACD;;AACD,YAAM,IAAIE,KAAJ,CAAU,gBAAV,CAAN;AACD,KAVD,CAUE,OAAMC,KAAN,EAAa;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF;AA7BY,CAAf","sourcesContent":["// import axios from \"axios\";\n\n// export default {\n//   // Gets all books\n//   getBooks: function(query) {\n//     return axios.get(`https://www.googleapis.com/books/v1/volumes?q=intitle:${query}&key=AIzaSyDIgzatOnslxJ_o79ySgfXYrKrbOGahZK0`);\n//   },\n//   // Gets the book with the given id\n//   getBook: function(id) {\n//     return axios.get(\"/api/book/\" + id);\n//   },\n//   // Deletes the book with the given id\n//   deleteBook: function(id) {\n//     return axios.delete(\"/api/book/\" + id);\n//   },\n//   // Saves a book to the database\n//   saveBook: function(bookData) {\n//     axios.post(\"/api/book\", bookData);\n//   }\n// };\n\nexport default {\n\n  getBooks: function (query) {\n    try {\n      const response = fetch(`https://www.googleapis.com/books/v1/volumes?q=intitle:${query}&key=AIzaSyDIgzatOnslxJ_o79ySgfXYrKrbOGahZK0`);\n      if (response.ok) {\n        const jsonResponse = response.json();\n        return jsonResponse;\n      }\n      throw new Error(\"Request failed\");\n    } catch(error) {\n      console.log(error);\n    }\n  },\n\n  saveBook: ({ bookData }) => {\n    try {\n      const response = fetch('http://localhost:3000/api/book', {\n        method: \"POST\",\n        body: JSON.stringify({bookData})\n      });\n      if (response.ok) {\n        const jsonResponse = response.json();\n        return jsonResponse;\n      }\n      throw new Error(\"Request failed\");\n    } catch(error) {\n      console.log(error);\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}